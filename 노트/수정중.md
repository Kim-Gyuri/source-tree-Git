# 📌 소스트리(source tree) 를 사용하여 Git 사용하기
## commit 전 수정사항 취소하기(discard)
+ 만약 소스코드를 수정을 하는 중에 문제를 발견했다.
+ 조건: commit을 하기 직전의 상황만 가능
+ discard하면, 가장 최근 commit으로 돌아가기 할 수 있다.


## Reset, Revert, 시간여행 정리
> `reset` 선택한 상태로 되돌리기 /버전을 지운다. <br> 
> `revert` 선택한 상태를 취소해서, 그 이전 상태로 되돌리기 /버전을 유지하면서 되돌린 버전으로 커밋을 만들어 준다.

### reset
+ 되돌아갈 버전을 선택하고 마우스 오른쪽 버튼을 클릭하고 "Reset current branch  to this commit"을 누른다.
+ Reset to Commit 창이 아래와 같이 뜬다. 
+ 여기서 3가지의 mode가 있다. Soft, Mixed, Hard.
+ 원하는 mode를 선택 후 OK를 클릭한다.

> `Hard mode` <br> Reset한 버전이후의 버전이 모두 삭제되며 소스코드 역시 해당 버전의 소스코드로 수정되어있다.

> `Mixed mode` <br> Reset한 버전이후의 버전이 모두 삭제되었으나 working tree의 소스코드는 유지되어 Uncommitted changes 항목이 표시되어있다. <br> 또한 소스코드 역시 그대로 유지되어 있다.

<br> <br>

### revert 
+ 바로 이전 커밋의 파일 내용을 되돌리되, 되돌리는 커밋을 함께 날려서 파일 내용을 롤백한다.
+ `주의` revert하려는 커밋위치 이후의 커밋이 있으면 안된다 → 충돌 발생!
+ 그럼 여러개의 커밋 이전의 커밋에 revert하고 싶다면?  맨 위 커밋부터 차근차근 내려와야 한다.

## 브랜치
+ 각각의 브랜치는 다른 브랜치의 영향을 받지 않기 때문에, 여러 작업을 동시에 진행할 수 있다.
+ 브랜치 전환 : 소스트리에서 더블클릭

### 병합
병합(Merge)함으로써, 작업한 내용을 다시 새로운 하나의 브랜치로 모을 수 있다. 
+ 새로운 브랜치를 만들고, 브랜치를 커밋한다.
+ 커밋한 브랜치에서 master로 돌아온다.
+ 새로운 브랜치에 마우스를 올려 "merge '브랜치이름' into current brance"를 해주면 된다.
+ 이제 브랜치에서 커밋한 내용이 master에도 같이 들어가 있다.

### 충돌
> 충돌이 있는 부분에 Git 이 자동으로 위와 같이 충돌 정보를 포함하여 파일 내용을 변경한다. <br> 이 내용을 통해 어떤 브랜치에서 어떤 부분이 충돌되었는지 확인할 수 있다. <br>
> 충돌이 일어난 부분은 이렇게 일일이 확인해서 수정해 주어야 한다.

<br>


만약 두 브랜치가 같은 행을 수정하고 merge했을 때, 경고창(충돌이 발생했다.)이 뜬다.  <br>
> merge는 'master->오른쪽 마우스, merge current into branch'를 누른다. <br>
> <br>
> git입장에서는 어떻게 해결할지 몰라 사람에게 위임한다. <br> 그래서 아래와 같이 표시된다. 

```
# merge를 했을 때 이렇게 표시된다.

<<<<<<< HEAD
브랜치
=======
branch
>>>>>>> 실험
```

 <br> <br>

merge했을 때, 경고창이 뜨면서 해당 파일에 아래와 같이 표시가 생긴다.
> ![브랜치](https://user-images.githubusercontent.com/57389368/195360945-30c30d84-5140-493c-813a-1170770fce54.JPG) <br>
> <br>
> `해결` <br>
> 해당 파일에, 오른쪽 마우스 -> resolve conflicts에서 Mark Resolved를 누른다. <br>
> 그러면 자동으로 커밋 대기 상태로 만든다. <br>
> 커밋하고 push한다. <br>




